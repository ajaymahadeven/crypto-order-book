#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'âœˆï¸  PRE-FLIGHT CHECKLIST - Preparing for takeoff...\n'

# Check Prettier standards
echo 'ğŸ“‹ [1/3] Checking code formatting...'
npm run check-format ||
(
    echo '\nâŒ FORMATTING CHECK FAILED
    â””â”€ Code style does not meet standards
    â””â”€ Run: npm run format
    â””â”€ Then: git add . && git commit again\n';
    false;
)
echo 'âœ“ Code formatting passed\n'

# Check ESLint Standards
echo 'ğŸ“‹ [2/3] Running ESLint checks...'
npm run lint ||
(
    echo '\nâŒ LINTING CHECK FAILED
    â””â”€ Fix the issues listed above
    â””â”€ Then: git add . && git commit again\n'
    false;
)
echo 'âœ“ ESLint passed\n'

# Check tsconfig standards
echo 'ğŸ“‹ [3/3] Running TypeScript type checks...'
npm run check-types ||
(
    echo '\nâŒ TYPE CHECK FAILED
    â””â”€ Fix type errors listed above
    â””â”€ Then: git add . && git commit again\n'
    false;
)
echo 'âœ“ Type checking passed\n'

# Optional build check (commented out for speed)
# echo 'ğŸ“‹ [4/4] Building project...'
# npm run build ||
# (
#     echo '\nâŒ BUILD FAILED
#     â””â”€ Review build errors above
#     â””â”€ Fix issues and try again\n'
#     false;
# )
# echo 'âœ“ Build successful\n'

# Success!
echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”'
echo 'âœ… ALL SYSTEMS GO - Cleared for takeoff! ğŸ›«'
echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n'